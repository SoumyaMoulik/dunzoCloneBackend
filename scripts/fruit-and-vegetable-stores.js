// let FV_Data = [
//   {
//      Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-250,h-250,cm-pad_resize_store_thumbnail/stores/MVdibXFRb1pWRUtSTWJNYUxLSXdNUT09-1639111565473-store_image.jpg",
//      name:'Xpress Mart' ,
//      location:'Shivaji Nagar',
//      km:0.4 +'km',
//      c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//      min:9+'mins'

//   },
//   {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-250,h-250,cm-pad_resize_store_thumbnail/stores/MVdibXFRb1pWRUtSTWJNYUxLSXdNUT09-1639111565473-store_image.jpg",
//       name:'Xpress Mart' ,
//       location:'Bibvewadi',
//       km:4.9 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:23+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-250,h-250,cm-pad_resize_store_thumbnail/stores/M1prWUFRNElETmtxcnBObHdwM2RkZz09-1625565422040-store_image.jpg",
//       name:'Maharashtra Fruits' ,
//       location:'Bhandarkar Road',
//       km:3.4 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:26+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/c27e4ecc-65cf-4d42-95bc-87993738ad7a-1552376551009-store_image.jpg",
//       name:'Food Junction' ,
//       location:'Deccan Gymkhana',
//       km:3.1 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:24+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-250,h-250,cm-pad_resize_store_thumbnail/stores/TmREb0JEZTlHUVJ4NkdZUi9pT01oUT09-1611337706207-store_image.jpg",
//       name:'Saykar Vegetable Suppliers' ,
//       location:'Camp',
//       km:3 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:33+'mins'

//    },

//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/UnZJV3U1U1dVQXlobWRPdHIrNFl6QT09-1614009436103-store_image.jpg",
//       name:'Kalyani Foods' ,
//       location:'Swargate',
//       km:1.5 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:21+'mins'

//    },

   
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-250,h-250,cm-pad_resize_store_thumbnail/stores/d2FNOEhKYm5xUWRldjdmRTN3ZEdwQT09-1632400645136-store_image.jpg",
//       name:'Sevak Vegetables' ,
//       location:'Ghole Road',
//       km:4 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:27+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-250,h-250,cm-pad_resize_store_thumbnail/stores/682feca2-9678-4d29-afcc-98e79fe18809-1627637029307-store_image.jpeg",
//       name:'Amardeep Market' ,
//       location:'Erandwane',
//       km:4 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:23+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/a77c24ab-df65-4b2a-8f2f-c07002f429f1-1543756946005-store_image.jpg",
//       name:'Rajlaxmi Super Market' ,
//       location:'Karve Nagar',
//       km:4.9 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:28+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/741c8050-58bf-437c-adb6-b468c652e8d6-1623918409397-store_image.jpeg",
//       name:'Daily Bazaar' ,
//       location:'Vadgaon Sheri',
//       km:9.9 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:47+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/3a335f91-2fa5-4ddf-899c-834d78cb9dfc-1608184535349-store_image.jpg",
//       name:'Quik Mart' ,
//       location:'Magarpatta City',
//       km:11.7 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:42+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/b1lXY0xMZ3htVGNPbTJnZTRYVVlsZz09-1630312372727-store_image.jpg",
//       name:'Parda Fresh' ,
//       location:'Wanawadi',
//       km:7.3 +'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:43+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/5b5d35cc-882f-4748-b1f0-71acf431cfc2-1572952955045-store_image.jpeg",
//       name:"ADY's Mart" ,
//       location:'Baner',
//       km:10.1+'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:48+'mins'

//    },
//    {
//       Main_img_url:"https://ik.imagekit.io/dunzo/dunzo-catalog-prod/tr:w-220,h-220,cm-pad_resize_store_thumbnail/stores/UnpYa2psSjN0SGMxdmZoTGxwRVhTZz09-1620284173218-store_image.jpg",
//       name:"Veggovilla" ,
//       location:'Pimple Nilakh',
//       km:11.8+'km',
//       c_img:"https://cdn-icons-png.flaticon.com/512/992/992700.png",
//       min:46+'mins'

//    },
// ]



//fetch api   ---------------------- AWS Api ----------------------------------
let url = `http://ec2-54-218-106-180.us-west-2.compute.amazonaws.com:2345/u`;
async function FetchApi(){
    try {
        
        let res = await fetch(url);
        let data = await res.json()
        console.log(data)
        showItems(data)
    } catch (error) {
        console.log(error)
    }
}
FetchApi()

// display apis in dom 
function showItems(data){
    data.forEach(function(product){
        console.log(product)
    var div = document.createElement("div");
    var details = document.createElement("div");
    var icon_link = document.createElement("img");
    var shop = document.createElement("p");
    var area = document.createElement("p");
    var distance = document.createElement("p");
      icon_link.src = product.icon_link;
        shop.innerText=product.shop;
        shop.style.fontSize="18px"
        icon_link.style.borderRadius=`${15}px`
        area.innerText=product.area;
        distance.innerText=product.distance+" km";
        area.style.color="grey";
        distance.style.color="grey";
        div.addEventListener("click",call);
        details.append(shop,area,distance);
        details.setAttribute("id","details");
        div.setAttribute("id","store");
        div.append(icon_link,details);
        document.getElementById("body").appendChild(div);
    })
}
// showItems();
function call(){
window.location.href="./2ndFvPage.html"
}
document.getElementById("search").addEventListener("click",refer);
    function refer(){
        window.location.href="./search.html"
    }
    // document.getElementById("logo").addEventListener("click",home);
    function showData(){
        if(localStorage.getItem("location")!=null){
        var data = JSON.parse(localStorage.getItem("location"));
        document.getElementById("location").innerHTML=data;
        document.getElementById("location1").innerHTML=`Groceries & Essentials in ${data}`
    }
}
    showData();
    document.getElementById("set_location").addEventListener("click",getLoc);
    function getLoc(){
        var input = prompt("Please enter your location.");
        if(localStorage.getItem("location")==null){
            localStorage.setItem("location",JSON.stringify(input));
        }else if(localStorage.getItem("location")!=null){
        var data = localStorage.getItem("location");
        data = JSON.parse(data);
        if(data!=input){
            localStorage.setItem("location",JSON.stringify(input));
        } 
    }
}
document.getElementById("cart").addEventListener("click",cart);
document.getElementById("head").querySelector("p").innerText=`India > ${JSON.parse(localStorage.getItem("location"))}`

    if(JSON.parse(localStorage.getItem('dunzoCart')) != null){
        var circle = document.getElementById('circle');

        let arr = JSON.parse(localStorage.getItem('dunzoCart'));
        let qty = 0;

        arr.forEach(function(prd){
            qty += prd.qty;
        });

        circle.innerText = qty;
    }else{
        document.getElementById('circle').style.display = "none";
    }

    // navbar logo functionality
    document.getElementById("logo").addEventListener("click", hello);
        function hello() {
            window.location.href = "./index.html"
        }